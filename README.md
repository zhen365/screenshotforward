# 核酸结果自动发送至微信
## v1
* v1适用于所有*Auto.js*版本
* *Auto.jsPro8*及以上限制部分应用的控件搜索功能，无法通过搜索控件进行自动化操作
* 全部操作通过`click()`点击坐标切换页面和功能
* 切换过程按照*MIUI*截图分享编写，*小米11(2K)*可以直接使用。其他MIUI设备需要修改坐标。非MIUI设备需要修改截图发送函数`sendScreen()`
### unLock()
1. `device.wakeUp()`唤醒屏幕
2. `gestures()`模拟单指上滑手势，进入解锁界面
3. 遍历密码数组，使用`click()`点击字符
### zhbOpenHesuan()
1. `launchApp()`打开郑好办app
2. 通过`click()`点击坐标，依次进入郑好码、核酸检测结果
### getScreen()
1. `gestures()`模拟三指下滑手势进行截图
### sendScreen()（依赖MIUI截图分享）
1. 通过`click()`点击坐标，依次点击发送进入MIUI分享界面，点击微信分享图标，点击置顶用户，点击确定发送截图
## v2
* v2适用于*Auto.jsPro7*或*Auto.js4.1.1*之前的版本
* 低版本的*Auto.js*未限制微信等应用的空间搜索功能，可以使用控件进行自动化操作
* 适用于所有设备
### zhbOpenHesuan()
1. `launchApp()`打开郑好办app
2. 通过`click()`查找点击文本控件，依次进入郑好码、核酸检测结果
### getScreen()
1. 异步处理，自动同意权限请求（根据各机型提醒，设置不同的text）
2. 使用`captureScreen()`进行截图，保存到固定位置
### sendScreen()
1. `launchApp()`打开微信
2. 通过`click()`查找点击文本控件，进入用户消息界面
3. 通过`setText()`向`android.widget.EditText`中粘贴图片路径
4. 通过`click()`查找点击文本控件，发送图片